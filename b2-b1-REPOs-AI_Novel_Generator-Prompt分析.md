# AI小说生成提示词分析报告

## 1. 当前章节摘要生成提示词分析

### 提示词原文：
"""
作为一名专业的小说编辑和知识管理专家，正在基于已完成的前三章内容和本章信息生成当前章节的精准摘要。请严格遵循以下工作流程：
前三章内容：
{combined_text}

当前章节信息：
第{novel_number}章《{chapter_title}》：
├── 本章定位：{chapter_role}
├── 核心作用：{chapter_purpose}
├── 悬念密度：{suspense_level}
├── 伏笔操作：{foreshadowing}
├── 认知颠覆：{plot_twist_level}
└── 本章简述：{chapter_summary}

下一章信息：
第{next_chapter_number}章《{next_chapter_title}》：
├── 本章定位：{next_chapter_role}
├── 核心作用：{next_chapter_purpose}
├── 悬念密度：{next_chapter_suspense_level}
├── 伏笔操作：{next_chapter_foreshadowing}
├── 认知颠覆：{next_chapter_plot_twist_level}
└── 本章简述：{next_chapter_summary}

**上下文分析阶段**：
1. 回顾前三章核心内容：
   - 第一章核心要素：[章节标题]→[核心冲突/理论]→[关键人物/概念]
   - 第二章发展路径：[已建立的人物关系]→[技术/情节进展]→[遗留伏笔]
   - 第三章转折点：[新出现的变量]→[世界观扩展]→[待解决问题]
2. 提取延续性要素：
   - 必继承要素：列出前3章中必须延续的3个核心设定
   - 可调整要素：识别2个允许适度变化的辅助设定

**当前章节摘要生成规则**：
1. 内容架构：
   - 继承权重：70%内容需与前3章形成逻辑递进
   - 创新空间：30%内容可引入新要素，但需标注创新类型（如：技术突破/人物黑化）
2. 结构控制：
   - 采用"承继→发展→铺垫"三段式结构
   - 每段含1个前文呼应点+1个新进展
3. 预警机制：
   - 若检测到与前3章设定冲突，用[!]标记并说明
   - 对开放式发展路径，提供2种合理演化方向

现在请你基于目前故事的进展，完成以下两件事：
用最多800字，写一个简洁明了的「当前章节摘要」；

请按如下格式输出（不需要额外解释）：
当前章节摘要: <这里写当前章节摘要>
"""

### 理论方法分析：
1. **三幕剧结构应用**：
   - 提示词中的"承继→发展→铺垫"三段式结构与三幕剧的"铺垫→对抗→解决"结构高度吻合
   - 70%继承+30%创新的比例分配符合三幕剧对结构平衡的要求
   - 强调与前文逻辑递进，体现了三幕剧对情节连贯性的重视

2. **雪花写作法元素**：
   - 要求从已有内容扩展，符合雪花法"从核心逐步扩展"的理念
   - 对前三章内容的系统回顾体现了雪花法的层次性思维
   - 必继承要素与可调整要素的区分展现了雪花法的结构化特征

3. **悬念构建技巧**：
   - 明确要求处理悬念密度(1-5级)和伏笔操作
   - 提供2种演化方向的要求增加了不确定性
   - 冲突检测机制确保悬念设置的合理性

### 实施建议：
1. 在应用此提示词时，可先绘制三幕结构图，明确各段功能
2. 使用雪花法的扩展方法，从核心冲突逐步构建章节内容
3. 根据悬念三要素模型检查悬念设置的强度和时间压力

### 补充说明（根据用户反馈）：
1. **关于"认知颠覆"**：
   - 定义：指故事中打破读者原有认知的重大转折
   - 分级说明：
     ★☆☆☆☆：轻微认知调整（如角色次要秘密揭露）
     ★★☆☆☆：中等程度反转（如盟友真实身份）
     ★★★☆☆：重要设定颠覆（如世界观部分真相）
     ★★★★☆：核心概念重构（如主角记忆虚假）
     ★★★★★：完全世界观重塑（如现实是虚拟的）

2. **关于"前三章分析框架"**：
   - 第一章分析要点：
     • 标题分析：检查是否准确反映核心冲突
     • 冲突定位：明确主要矛盾类型（人vs人/自然/自我等）
     • 关键要素：标记后续必须延续的核心设定
   - 第二章分析要点：  
     • 关系图谱：绘制角色互动网络
     • 进展评估：确认情节推进节奏
     • 伏笔清单：记录所有未解谜团
   - 第三章分析要点：
     • 新变量分析：评估其对原有平衡的影响
     • 世界观扩展：检查设定的一致性
     • 问题列表：明确待解决的悬念
     
## 2. 知识库相关性检索提示词分析

### 提示词原文：
"""
请基于以下当前写作需求，生成合适的知识库检索关键词：

章节元数据：
- 准备创作：第{chapter_number}章
- 章节主题：{chapter_title}
- 核心人物：{characters_involved}
- 关键道具：{key_items}
- 场景位置：{scene_location}

写作目标：
- 本章定位：{chapter_role}
- 核心作用：{chapter_purpose}
- 伏笔操作：{foreshadowing}

当前摘要：
{short_summary}

- 用户指导：
{user_guidance}

- 核心人物(可能未指定)：{characters_involved}
- 关键道具(可能未指定)：{key_items}
- 空间坐标(可能未指定)：{scene_location}
- 时间压力(可能未指定)：{time_constraint}

生成规则：

1.关键词组合逻辑：
-类型1：[实体]+[属性]（如"量子计算机 故障日志"）
-类型2：[事件]+[后果]（如"实验室爆炸 辐射泄漏"）
-类型3：[地点]+[特征]（如"地下城 氧气循环系统"）

2.优先级：
-首选用户指导中明确提及的术语
-次选当前章节涉及的核心道具/地点
-最后补充可能关联的扩展概念

3.过滤机制：
-排除抽象程度高于"中级"的概念
-排除与前3章重复率超60%的词汇

请生成3-5组检索词，按优先级降序排列。
格式：每组用"·"连接2-3个关键词，每组占一行

示例：
科技公司·数据泄露
地下实验室·基因编辑·禁忌实验
"""

### 理论方法分析：
1. **信息检索理论应用**：
   - 关键词组合逻辑体现信息检索中的"概念组配"原理
   - 优先级规则符合信息检索的"相关度排序"原则
   - 过滤机制应用了信息科学中的"去重"和"抽象度控制"技术

2. **雪花写作法关联**：
   - 关键词生成过程与雪花法的"从核心扩展"理念一致
   - 强调与前文一致性，符合雪花法的连贯性要求
   - 多类型关键词组合支持多层次故事构建

3. **悬念构建技巧**：
   - 事件+后果型关键词直接服务于悬念设置
   - 地点+特征型关键词有助于环境悬念营造
   - 过滤重复内容保证悬念的新鲜感

### 实施建议：
1. 先建立"实体-属性-事件"三维知识图谱
2. 使用思维导图工具可视化关键词关系
3. 对生成的关键词进行"悬念潜力"评估

### 补充说明（根据用户反馈）：

1. **元数据填写的作用**：
   - 核心人物：聚焦角色关系知识（如"侦探·童年创伤"）
   - 关键道具：检索技术/物品细节（如"怀表·维多利亚工艺"）
   - 空间坐标：获取环境描写素材（如"伦敦东区·贫民窟"）
   - 时间压力：强化悬念相关资源（如"倒计时·心理效应"）

2. **抽象程度分级标准**：
   - 低级：具体可感知（如"红木书桌"）
   - 中级：可具象化概念（如"权力斗争"）
   - 高级：纯抽象概念（如"存在主义"）
   - 过滤原则：保留可直接转化为描写的词汇

3. **优秀Prompt技巧**：
   - 结构化输入：明确划分"章节元数据/写作目标"
   - 组合逻辑：提供多种关键词生成模式
   - 示例教学：展示标准格式和合格样例
   - 防错机制：通过过滤规则保证结果可用性
   - 弹性设计："可能未指定"字段处理缺失情况

### 应用案例：
当输入：
- 核心人物：退役特种兵
- 关键道具：老式收音机
- 空间坐标：废弃医院
- 时间压力：72小时

可能生成：
```
特种兵·创伤后应激障碍
老式收音机·短波频率
废弃医院·地下手术室
72小时·生理极限
```

## 3. 知识库内容过滤提示词分析

### 提示词原文：
"""
对知识库内容进行三级过滤：

待过滤内容：
{retrieved_texts}

当前叙事需求：
{chapter_info}

过滤流程：

冲突检测：

删除与已有摘要重复度＞40%的内容

标记存在世界观矛盾的内容（使用▲前缀）

价值评估：

关键价值点（❗标记）：
· 提供新的角色关系可能性
· 包含可转化的隐喻素材
· 存在至少2个可延伸的细节锚点

次级价值点（·标记）：
· 补充环境细节
· 提供技术/流程描述

结构重组：

按"情节燃料/人物维度/世界碎片/叙事技法"分类

为每个分类添加适用场景提示（如"可用于XX类型伏笔"）

输出格式：
[分类名称]→[适用场景]
❗/· [内容片段] （▲冲突提示）
...

示例：
[情节燃料]→可用于时间压力类悬念
❗ 地下氧气系统剩余23%储量（可制造生存危机）
▲ 与第三章提到的"永久生态循环系统"存在设定冲突

仅给出最终文本，不要解释任何内容。
提示词：内容
"""

### 理论方法分析：
1. **信息处理理论应用**：
   - 三级过滤流程（冲突检测→价值评估→结构重组）符合信息处理的层级模型
   - 重复度阈值(40%)基于认知心理学中的"新颖性感知"研究
   - 分类系统体现了知识管理的"分面分类"原则

2. **雪花写作法关联**：
   - 世界观矛盾检测保障了雪花法的设定一致性
   - 细节锚点要求与雪花法的"逐步扩展"理念吻合
   - 分类重组支持模块化写作

3. **悬念构建技巧**：
   - "情节燃料"分类直接服务于悬念储备
   - 适用场景提示指导悬念类型选择
   - 冲突标记避免悬念设置的自相矛盾

### 实施建议：
1. 建立可视化过滤工作流（输入→处理→输出）
2. 开发自动化辅助工具：
   - 重复度检测算法
   - 矛盾点识别模型
   - 价值评分系统
3. 构建分类知识库模板

### 补充说明（根据用户反馈）：

1. **结构重组四类详解**：
   - 情节燃料：
     • 功能：推动剧情发展的核心元素
     • 案例：秘密信件、未爆弹、倒计时事件
     • 应用：每3章需储备1-2个高质量燃料
   - 人物维度：
     • 功能：深化角色塑造的素材
     • 案例：童年创伤细节、特殊技能描写
     • 应用：主要角色每章补充1个新维度
   - 世界碎片：
     • 功能：丰富世界观的细节
     • 案例：独特风俗、科技产品、地理特征
     • 应用：每章植入3-5个自然呈现的碎片
   - 叙事技法：
     • 功能：增强表现力的写作技巧
     • 案例：多视角切换、时间跳跃写法
     • 应用：根据章节类型选择匹配技法

2. **"提示词：内容"解析**：
   - 技术作用：强制AI只输出过滤后的内容文本
   - 设计考量：
     • 避免AI添加解释性文字
     • 确保输出格式标准化
     • 提升后续处理效率
   - 类似用法：在需要"纯文本输出"时常用此技巧
   - 效果对比：
     未加：会输出"好的，我将为您..."等冗余内容
     已加：直接呈现过滤重组后的纯净内容

## 4. 核心种子设定提示词分析（雪花第1层）

### 提示词原文：
"""
作为专业作家，请用"雪花写作法"第一步构建故事核心：
主题：{topic}
类型：{genre}
篇幅：约{number_of_chapters}章（每章{word_number}字）

请用单句公式概括故事本质，例如：
"当[主角]遭遇[核心事件]，必须[关键行动]，否则[灾难后果]；与此同时，[隐藏的更大危机]正在发酵。"

要求：
1. 必须包含显性冲突与潜在危机
2. 体现人物核心驱动力
3. 暗示世界观关键矛盾
4. 使用25-100字精准表达

仅返回故事核心文本，不要解释任何内容。
"""

### 理论方法分析：
1. **雪花写作法应用**：
   - 严格遵循雪花法第一步"一句话概括"的要求
   - 包含所有关键要素：主角、冲突、行动、后果
   - 强调简洁精准（25-100字）符合雪花法原则

2. **故事结构理论**：
   - 显性冲突对应三幕剧的"主要冲突"
   - 潜在危机为后续发展预留空间
   - 人物驱动力确保角色主动性

3. **悬念构建技巧**：
   - "隐藏的更大危机"设置全局悬念
   - 灾难后果创造紧迫感
   - 世界观矛盾暗示未来冲突点

### 实施建议：
1. 使用"故事公式"模板确保要素完整：
   [人物]+[现状]+[事件]+[行动]+[后果]+[隐藏危机]
2. 进行多版本迭代，逐步精炼核心句
3. 将核心句分解为：
   - 显性冲突（当前）
   - 潜在危机（长期）
   - 人物动机（内在）
   - 世界矛盾（背景）

## 5. 角色动力学设定提示词分析（角色弧光模型）

### 提示词原文：
"""
基于以下元素：
- 内容指导：{user_guidance}
- 核心种子：{core_seed}

请设计3-6个具有动态变化潜力的核心角色，每个角色需包含：
特征：
- 背景、外貌、性别、年龄、职业等
- 暗藏的秘密或潜在弱点(可与世界观或其他角色有关)

核心驱动力三角：
- 表面追求（物质目标）
- 深层渴望（情感需求）
- 灵魂需求（哲学层面）

角色弧线设计：
初始状态 → 触发事件 → 认知失调 → 蜕变节点 → 最终状态

关系冲突网：
- 与其他角色的关系或对立点
- 与至少两个其他角色的价值观冲突
- 一个合作纽带
- 一个隐藏的背叛可能性

要求：
仅给出最终文本，不要解释任何内容。角色姓名符合中文姓名习惯。
"""

### 理论方法分析：
1. **角色弧光理论应用**：
   - 完整包含角色弧光的四个阶段（初始→触发→蜕变→最终）
   - 驱动力三角对应K.M.韦兰德的角色维度理论
   - 关系冲突网确保角色互动张力

2. **雪花写作法关联**：
   - 角色设计作为雪花法第二步（角色扩展）
   - 特征细节支持后续情节发展
   - 关系网络构建故事基础架构

3. **悬念构建技巧**：
   - 暗藏秘密创造解谜空间
   - 隐藏背叛可能埋设悬念
   - 价值观冲突推动情节转折

### 实施建议：
1. 使用角色档案表系统记录：
   - 基础特征
   - 驱动力三角
   - 关系矩阵
2. 绘制角色弧光曲线图
3. 建立"秘密-揭露"时间轴
4. 定期检查角色行为一致性

## 6. 世界构建矩阵提示词分析（三维度交织法）

### 提示词原文：
"""
基于以下元素：
- 内容指导：{user_guidance}
- 核心冲突："{core_seed}"

为服务上述内容，请构建三维交织的世界观：

1. 物理维度：
- 空间结构（地理×社会阶层分布图）
- 时间轴（关键历史事件年表）
- 法则体系（物理/魔法/社会规则的漏洞点）

2. 社会维度：
- 权力结构断层线（可引发冲突的阶层/种族/组织矛盾）
- 文化禁忌（可被打破的禁忌及其后果）
- 经济命脉（资源争夺焦点）

3. 隐喻维度：
- 贯穿全书的视觉符号系统（如反复出现的意象）
- 气候/环境变化映射的心理状态
- 建筑风格暗示的文明困境

要求：
每个维度至少包含3个可与角色决策产生互动的动态元素。
仅给出最终文本，不要解释任何内容。
"""

### 理论方法分析：
1. **世界构建理论**：
   - 三维度划分（物理/社会/隐喻）符合现代世界构建方法论
   - 动态元素要求确保世界观的可操作性
   - 漏洞点和禁忌设计创造故事可能性空间

2. **雪花写作法关联**：
   - 作为雪花法第三步（世界观扩展）
   - 与核心种子和角色设计形成三角支撑
   - 为后续情节提供环境基础

3. **悬念构建技巧**：
   - 法则漏洞是悬念的天然温床
   - 权力断层线制造冲突悬念
   - 视觉符号系统强化悬念记忆点

### 实施建议：
1. 使用分层思维导图构建：
   - 物理层：地图+时间轴+规则手册
   - 社会层：势力关系图+文化档案
   - 隐喻层：符号词典+环境心理学笔记
2. 建立"世界-角色-情节"互动检查表
3. 预留20%空白区域供后续扩展

### 补充说明（根据用户反馈）：

1. **世界构建的执行频率**：
   - 基础构建：在故事规划阶段执行1-2次，建立世界观框架
   - 迭代更新：每完成1/3篇幅时补充1次（约3-5次）
   - 动态调整：根据情节需要随时微调特定元素

2. **动态元素的特性**：
   - 初始设定示例：
     • 物理：可调节重力区域（科技水平决定）
     • 社会：地下黑市规模（随镇压力度变化）
     • 隐喻：雨季持续时间（映射社会压抑程度）
   - 变化机制：
     • 角色决策直接影响（如选择支持某势力）
     • 情节发展自然演变（如技术突破）
     • 作者主动调整（为服务新剧情）

3. **前置设计的原因**：
   - 确保变化有逻辑基础（避免随意性）
   - 维持世界观一致性（变化有迹可循）
   - 提高写作效率（减少后期调整工作量）
   - 示例对比：
     无预设：临时添加"突然出现的魔法结界"（突兀）
     有预设：基于"法则漏洞点"发展出的结界（合理）

## 7. 情节架构提示词分析（三幕式悬念）

### 提示词原文：
"""
基于以下元素：
- 内容指导：{user_guidance}
- 核心种子：{core_seed}
- 角色体系：{character_dynamics}
- 世界观：{world_building}

要求按以下结构设计：
第一幕（触发） 
- 日常状态中的异常征兆（3处铺垫）
- 引出故事：展示主线、暗线、副线的开端
- 关键事件：打破平衡的催化剂（需改变至少3个角色的关系）
- 错误抉择：主角的认知局限导致的错误反应

第二幕（对抗）
- 剧情升级：主线+副线的交叉点
- 双重压力：外部障碍升级+内部挫折
- 虚假胜利：看似解决实则深化危机的转折点
- 灵魂黑夜：世界观认知颠覆时刻

第三幕（解决）
- 代价显现：解决危机必须牺牲的核心价值
- 嵌套转折：至少包含三层认知颠覆（表面解→新危机→终极抉择）
- 余波：留下2个开放式悬念因子

每个阶段需包含3个关键转折点及其对应的伏笔回收方案。
仅给出最终文本，不要解释任何内容。
"""

### 理论方法分析：
1. **三幕剧结构深化**：
   - 严格遵循"触发-对抗-解决"的经典结构
   - 各幕关键节点设置符合悉德·菲尔德节拍表
   - 嵌套转折设计增强戏剧性

2. **雪花写作法整合**：
   - 整合前几步成果（核心种子/角色/世界观）
   - 伏笔回收方案体现雪花法的规划性
   - 余波悬念为后续扩展预留空间

3. **悬念三要素应用**：
   - 异常征兆制造信息受限型悬念
   - 虚假胜利强化时间压力型悬念
   - 灵魂黑夜创造危险升级型悬念

### 实施建议：
1. 使用情节设计工具：
   - 三幕时间轴
   - 伏笔跟踪表
   - 转折点强度曲线
2. 确保每个转折点：
   - 改变角色关系
   - 推进主要冲突
   - 揭示新信息
3. 平衡内外冲突比例（建议6:4）

## 8. 章节目录生成提示词分析（悬念节奏曲线）

### 提示词原文：
"""
基于以下元素：
- 内容指导：{user_guidance}
- 小说架构：
{novel_architecture}

设计{number_of_chapters}章的节奏分布：
1. 章节集群划分：
- 每3-5章构成一个悬念单元，包含完整的小高潮
- 单元之间设置"认知过山车"（连续2章紧张→1章缓冲）
- 关键转折章需预留多视角铺垫

2. 每章需明确：
- 章节定位（角色/事件/主题等）
- 核心悬念类型（信息差/道德困境/时间压力等）
- 情感基调迁移（如从怀疑→恐惧→决绝）
- 伏笔操作（埋设/强化/回收）
- 认知颠覆强度（1-5级）

输出格式示例：
第n章 - [标题]
本章定位：[角色/事件/主题/...]
核心作用：[推进/转折/揭示/...]
悬念密度：[紧凑/渐进/爆发/...]
伏笔操作：埋设(A线索)→强化(B矛盾)...
认知颠覆：★☆☆☆☆
本章简述：[一句话概括]

第n+1章 - [标题]
本章定位：[角色/事件/主题/...]
核心作用：[推进/转折/揭示/...]
悬念密度：[紧凑/渐进/爆发/...]
伏笔操作：埋设(A线索)→强化(B矛盾)...
认知颠覆：★☆☆☆☆
本章简述：[一句话概括]

要求：
- 使用精炼语言描述，每章字数控制在100字以内。
- 合理安排节奏，确保整体悬念曲线的连贯性。
- 在生成{number_of_chapters}章前不要出现结局章节。

仅给出最终文本，不要解释任何内容。
"""

### 理论方法分析：
1. **悬念节奏理论**：
   - "悬念单元"设计符合悬念累积-释放的心理学规律
   - 认知过山车模式避免读者疲劳
   - 多视角铺垫增强转折冲击力

2. **雪花写作法应用**：
   - 作为雪花法第六步（扩展大纲）
   - 章节定位与核心种子形成呼应
   - 伏笔操作确保前后连贯

3. **角色弧光整合**：
   - 情感基调迁移反映角色发展
   - 认知颠覆强度匹配角色成长节点
   - 章节定位服务角色塑造

### 实施建议：
1. 使用节奏规划工具：
   - 悬念强度波形图
   - 情感基调迁移表
   - 伏笔操作甘特图
2. 保持弹性：
   - 预留20%章节调整空间
   - 设置关键检查点（每5章）
3. 平衡要素：
   - 推进章:转折章:缓冲章 ≈ 5:3:2
   - 各类型悬念交替出现

### 补充说明（根据用户反馈）：

1. **大规模章节的伏笔管理方案**：

   - 分块生成策略：
     • 每10章为一个生成单元
     • 单元间设置"伏笔交接点"（明确记录待回收伏笔）
     • 示例格式：
       [伏笔ID]-[类型]-[埋设章]-[计划回收章]-[当前状态]

   - 技术增强手段：
     • 建立伏笔数据库（SQLite/Excel）
     • 使用唯一标识符标记伏笔（如F01、F02）
     • 实现自动化的伏笔追踪提醒

   - 容错机制设计：
     • 设置伏笔回收率阈值（建议≥80%）
     • 定期执行"伏笔完整性检查"（每5章）
     • 保留10%的灵活调整空间

2. **LLM优化技巧**：
   - 上下文管理：
     • 维护全局伏笔清单
     • 每次生成时附带前3章和后3章的伏笔上下文
   - 提示词增强：
     ```python
     # 示例提示词补充
     "请特别注意以下待回收伏笔：[F01]实验室爆炸痕迹(第3章)、[F02]失踪的项链(第5章)..."
     ```
   - 后处理校验：
     • 自动检测新伏笔与既有伏笔的冲突
     • 验证伏笔回收的逻辑合理性

## 9. 前文摘要更新提示词分析

### 提示词原文：
"""
以下是新完成的章节文本：
{chapter_text}

这是当前的前文摘要（可为空）：
{global_summary}

请根据本章新增内容，更新前文摘要。
要求：
- 保留既有重要信息，同时融入新剧情要点
- 以简洁、连贯的语言描述全书进展
- 客观描绘，不展开联想或解释
- 总字数控制在2000字以内

仅返回前文摘要文本，不要解释任何内容。
"""

### 理论方法分析：
1. **信息整合理论**：
   - 遵循"渐进式摘要"原则，逐步累积关键信息
   - 新旧内容融合符合认知心理学中的"知识整合"模型
   - 字数限制强制信息密度优化

2. **雪花写作法关联**：
   - 作为雪花法的"全局视图"维护机制
   - 确保摘要与各层设计保持同步
   - 为后续创作提供一致性检查基准

3. **叙事连贯性保障**：
   - 防止情节逻辑矛盾
   - 维持角色行为一致性
   - 保护世界观设定完整性

### 实施建议：
1. 建立摘要版本控制系统：
   - 每次更新保留历史版本
   - 标注各版本关键变更点
2. 开发辅助工具：
   - 自动提取新章节关键要素
   - 智能合并相似内容
   - 冲突检测提醒
3. 定期执行：
   - 每完成3章更新1次
   - 重大转折后必须更新

## 10. 角色状态更新提示词分析

### 提示词原文：
"""
依据当前角色动力学设定：{character_dynamics}

请生成一个角色状态文档，内容格式：
例：
张三：
├──物品:
│  ├──青衫：一件破损的青色长袍，带有暗红色的污渍
│  └──寒铁长剑：一柄断裂的铁剑，剑身上刻有古老的符文
├──能力
│  ├──技能1：强大的精神感知能力：能够察觉到周围人的心中活动
│  └──技能2：无形攻击：能够释放一种无法被视觉捕捉的精神攻击
├──状态
│  ├──身体状态: 身材挺拔，穿着华丽的铠甲，面色冷峻
│  └──心理状态: 目前的心态比较平静，但内心隐藏着对柳溪镇未来掌控的野心和不安
├──主要角色间关系网
│  ├──李四：张三从小就与她有关联，对她的成长一直保持关注
│  └──王二：两人之间有着复杂的过去，最近因一场冲突而让对方感到威胁
├──触发或加深的事件
│  ├──村庄内突然出现不明符号：这个不明符号似乎在暗示柳溪镇即将发生重大事件
│  └──李四被刺穿皮肤：这次事件让两人意识到对方的强大实力，促使他们迅速离开队伍

角色名：
├──物品:
│  ├──某物(道具)：描述
│  └──XX长剑(武器)：描述
│   ...
├──能力
│  ├──技能1：描述
│  └──技能2：描述
│   ...
├──状态
│  ├──身体状态：
│  └──心理状态：描述
│    
├──主要角色间关系网
│  ├──李四：描述
│  └──王二：描述
│   ...
├──触发或加深的事件
│  ├──事件1：描述
│  └──事件2：描述
    ...

新出场角色：
- (此处填写未来任何新增角色或临时出场人物的基本信息)

要求：
仅返回编写好的角色状态文本，不要解释任何内容。
"""

### 理论方法分析：
1. **角色弧光理论应用**：
   - 完整记录角色发展轨迹（初始→当前状态）
   - 状态描述体现角色成长阶段
   - 事件触发点对应弧光转折节点

2. **雪花写作法关联**：
   - 作为角色维度的动态维护机制
   - 确保角色发展与前期设定一致
   - 为后续创作提供角色行为依据

3. **叙事连贯性保障**：
   - 防止角色能力突变
   - 维持关系变化的合理性
   - 确保物品携带的逻辑性

### 实施建议：
1. 建立角色状态数据库：
   - 版本控制（每次更新保留历史）
   - 变化轨迹可视化
2. 开发校验工具：
   - 能力成长合理性检查
   - 关系变化冲突检测
   - 物品流转追踪
3. 更新频率：
   - 每章结束后更新主要角色
   - 重大事件后立即更新相关角色

## 11. 第一章草稿提示词分析

### 提示词原文：
"""
即将创作：第 {novel_number} 章《{chapter_title}》
本章定位：{chapter_role}
核心作用：{chapter_purpose}
悬念密度：{suspense_level}
伏笔操作：{foreshadowing}
认知颠覆：{plot_twist_level}
本章简述：{chapter_summary}

可用元素：
- 核心人物(可能未指定)：{characters_involved}
- 关键道具(可能未指定)：{key_items}
- 空间坐标(可能未指定)：{scene_location}
- 时间压力(可能未指定)：{time_constraint}

参考文档：
- 小说设定：
{novel_setting}

完成第 {novel_number} 章的正文，字数要求{word_number}字，至少设计下方2个或以上具有动态张力的场景：
1. 对话场景：
   - 潜台词冲突（表面谈论A，实际博弈B）
   - 权力关系变化（通过非对称对话长度体现）

2. 动作场景：
   - 环境交互细节（至少3个感官描写）
   - 节奏控制（短句加速+比喻减速）
   - 动作揭示人物隐藏特质

3. 心理场景：
   - 认知失调的具体表现（行为矛盾）
   - 隐喻系统的运用（连接世界观符号）
   - 决策前的价值天平描写

4. 环境场景：
   - 空间透视变化（宏观→微观→异常焦点）
   - 非常规感官组合（如"听见阳光的重量"）
   - 动态环境反映心理（环境与人物心理对应）

格式要求：
- 仅返回章节正文文本；
- 不使用分章节小标题；
- 不要使用markdown格式。

额外指导(可能未指定)：{user_guidance}
"""

### 理论方法分析：
1. **场景构建理论**：
   - 四类场景设计（对话/动作/心理/环境）覆盖叙事核心要素
   - 感官描写要求符合"展示而非讲述"原则
   - 动态张力设计增强读者沉浸感

2. **雪花写作法应用**：
   - 整合前期所有设计成果（设定/角色/世界观）
   - 确保与核心种子的一致性
   - 为后续章节建立叙事基准

3. **悬念构建技巧**：
   - 潜台词冲突制造信息差型悬念
   - 异常焦点环境描写铺垫氛围悬念
   - 认知失调表现角色内在悬念

### 实施建议：
1. 使用场景规划表：
   - 标注各场景核心功能
   - 平衡场景类型分布
   - 标记悬念强度曲线
2. 开发辅助工具：
   - 感官描写检查器
   - 潜台词分析器
   - 节奏控制计时器
3. 质量控制：
   - 每500字至少1个高张力场景
   - 保持场景转换自然流畅
   - 确保与前期设定的无缝衔接

## 12. 后续章节草稿提示词分析

### 提示词原文：
"""
参考文档：
└── 前文摘要：
    {global_summary}

└── 前章结尾段：
    {previous_chapter_excerpt}

└── 用户指导：
    {user_guidance}

└── 角色状态：
    {character_state}

└── 当前章节摘要：
    {short_summary}

当前章节信息：
第{novel_number}章《{chapter_title}》：
├── 章节定位：{chapter_role}
├── 核心作用：{chapter_purpose}
├── 悬念密度：{suspense_level}
├── 伏笔设计：{foreshadowing}
├── 转折程度：{plot_twist_level}
├── 章节简述：{chapter_summary}
├── 字数要求：{word_number}字
├── 核心人物：{characters_involved}
├── 关键道具：{key_items}
├── 场景地点：{scene_location}
└── 时间压力：{time_constraint}

下一章节目录
第{next_chapter_number}章《{next_chapter_title}》：
├── 章节定位：{next_chapter_role}
├── 核心作用：{next_chapter_purpose}
├── 悬念密度：{next_chapter_suspense_level}
├── 伏笔设计：{next_chapter_foreshadowing}
├── 转折程度：{next_chapter_plot_twist_level}
└── 章节简述：{next_chapter_summary}

知识库参考：（按优先级应用）
{filtered_context}

🎯 知识库应用规则：
1. 内容分级：
   - 写作技法类（优先）：
     ▸ 场景构建模板
     ▸ 对话写作技巧
     ▸ 悬念营造手法
   - 设定资料类（选择性）：
     ▸ 独特世界观元素
     ▸ 未使用过的技术细节
   - 禁忌项类（必须规避）：
     ▸ 已在前文出现过的特定情节
     ▸ 重复的人物关系发展

2. 使用限制：
   ● 禁止直接复制已有章节的情节模式
   ● 历史章节内容仅允许：
     → 参照叙事节奏（不超过20%相似度）
     → 延续必要的人物反应模式（需改编30%以上）
   ● 第三方写作知识优先用于：
     → 增强场景表现力（占知识应用的60%以上）
     → 创新悬念设计（至少1处新技巧）

3. 冲突检测：
   ⚠️ 若检测到与历史章节重复：
     - 相似度>40%：必须重构叙事角度
     - 相似度20-40%：替换至少3个关键要素
     - 相似度<20%：允许保留核心概念但改变表现形式

依据前面所有设定，开始完成第 {novel_number} 章的正文，字数要求{word_number}字，
内容生成严格遵循：
-用户指导
-当前章节摘要
-当前章节信息
-无逻辑漏洞,
确保章节内容与前文摘要、前章结尾段衔接流畅、下一章目录保证上下文完整性，

格式要求：
- 仅返回章节正文文本；
- 不使用分章节小标题；
- 不要使用markdown格式。
"""

### 理论方法分析：
1. **连续性写作理论**：
   - 多文档参考确保叙事连贯性
   - 章节衔接要求符合"钩子-回应"模式
   - 知识库分级应用体现信息优先级

2. **雪花写作法深化**：
   - 动态整合前期所有设计成果
   - 严格执行冲突检测机制
   - 保持与核心种子的关联性

3. **创新性写作技巧**：
   - 相似度控制避免重复
   - 知识转化要求促进创新
   - 表现手法多样化规定

### 实施建议：
1. 建立写作检查清单：
   - 前文呼应点
   - 伏笔处理状态
   - 知识应用记录
2. 开发辅助工具：
   - 相似度检测器
   - 知识应用追踪器
   - 逻辑漏洞扫描器
3. 质量控制：
   - 每章完成后的三审流程：
     1. 连贯性检查
     2. 创新性评估
     3. 技术性校对

## 13. 角色导入提示词分析

### 提示词原文：
"""
根据以下文本内容，分析出所有角色及其属性信息，严格按照以下格式要求：

&lt;&lt;角色状态格式要求&gt;&gt;
1. 必须包含以下五个分类（按顺序）：
   ● 物品 ● 能力 ● 状态 ● 主要角色间关系网 ● 触发或加深的事件
2. 每个属性条目必须用【名称: 描述】格式
   例：├──青衫: 一件破损的青色长袍，带有暗红色的污渍
3. 状态必须包含：
   ● 身体状态: [当前身体状况]
   ● 心理状态: [当前心理状况]
4. 关系网格式：
   ● [角色名称]: [关系类型，如"竞争对手"/"盟友"]
5. 触发事件格式：
   ● [事件名称]: [简要描述及影响]

<<示例>>
李员外:
├──物品:
│  ├──青衫: 一件破损的青色长袍，带有暗红色污渍
│  └──寒铁长剑: 剑身有裂痕，刻有「青云」符文
├──能力:
│  ├──精神感知: 能感知半径30米内的生命体
│  └──剑气压制: 通过目光释放精神威压
├──状态:
│  ├──身体状态: 右臂有未愈合的刀伤
│  └──心理状态: 对苏明远的实力感到忌惮
├──主要角色间关系网:
│  ├──苏明远: 竞争对手，十年前的同僚
│  └──林婉儿: 暗中培养的继承人
├──触发或加深的事件:
│  ├──兵器库遇袭: 丢失三把传家宝剑，影响战力
│  └──匿名威胁信: 信纸带有檀香味，暗示内部泄密
│

请严格按上述格式分析以下内容：
<<待分析小说文本开始>>
{content}
<<待分析小说文本结束>>
"""

### 理论方法分析：
1. **角色驱动写作理论应用**：
   - 提示词要求提取角色的物品、能力、状态、关系网和触发事件，符合角色驱动写作中构建深度心理档案的要求。
   - 详细的状态描述（身体状态和心理状态）有助于塑造角色的立体感。
   - 关系网的分析强调了角色之间的互动和冲突，符合角色驱动写作中人际关系图谱的建立。

2. **冰山理论元素**：
   - 提示词通过“名称: 描述”的格式，引导AI对角色属性进行精简描述，符合冰山理论中“省略的艺术”的原则。
   - 示例中对物品、能力和事件的描述都较为简洁，留给读者想象空间。
   - 触发事件的分析暗示了角色背后的故事和动机，符合冰山理论中隐藏结构的要求。

3. **悬念构建技巧**：
   - 关系网中“竞争对手”、“盟友”、“暗中培养的继承人”等关系类型，暗示了角色之间的潜在冲突和背叛，有助于制造悬念。
   - 触发事件的描述（如“兵器库遇袭”、“匿名威胁信”）直接服务于悬念设置，引发读者对后续情节的猜测。
   - 物品描述中（如“破损的青色长袍”、“剑身有裂痕”）暗示了角色经历和状态，为后续情节发展埋下伏笔。

### 实施建议：
1. 建立角色属性数据库：
   - 使用结构化的数据格式（如JSON）存储角色信息，方便后续检索和分析。
   - 为每个角色属性添加标签，方便进行分类和筛选。
2. 开发辅助工具：
   - 角色关系图谱生成器：自动根据关系网信息生成角色关系图。
   - 悬念潜力评估器：评估角色属性和事件描述中蕴含的悬念潜力。
3. 质量控制：
   - 确保每个角色都包含所有五个分类的信息。
   - 保持描述的简洁性和一致性。
